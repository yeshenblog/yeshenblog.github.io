(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{759:function(a,s,t){"use strict";t.r(s);var e=t(4),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("spring.profiles.active 属性可以为我们指定当前设置的环境，以此来选择我们的配置文件。例如我们有配置文件")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("application.yml\napplication-dev.yml\napplication-test.yml\napplication-prod.yml\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[a._v("当执行")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("java -jar xxx.jar --spring.profiles.active=test\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("此时，系统将启用 application.yml 和 application-test.yml 配置文件。")]),a._v(" "),t("p",[a._v("当执行")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(" java -jar xxx.jar --spring.profiles.active=prod\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("此时，系统将启用 application.yml 和 application-prod.yml 配置文件。")]),a._v(" "),t("p",[a._v("正是这种配置参数可以决定我们使用哪种配置文件，如果我们把不同环境的配置写在对应的配置文件中，我们就可以实现多环境机制。")]),a._v(" "),t("h3",{attrs:{id:"配置多环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置多环境"}},[a._v("#")]),a._v(" 配置多环境")]),a._v(" "),t("p",[a._v("正如上所述，我们配置不同的配置文件")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("application.yml\napplication-dev.yml（开发环境）\napplication-test.yml（测试环境）\napplication-uat.yml（预发布环境）\napplication-prod.yml（生产环境）\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[t("strong",[a._v("指定环境")])]),a._v(" "),t("h4",{attrs:{id:"cmd-命令中指定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cmd-命令中指定"}},[a._v("#")]),a._v(" cmd 命令中指定")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("java -jar xxx.jar --spring.profiles.active=dev`\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"application-yml-中指定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#application-yml-中指定"}},[a._v("#")]),a._v(" application.yml 中指定")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("spring:\n   profiles:\n     active: dev\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h4",{attrs:{id:"idea-编辑器中指定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#idea-编辑器中指定"}},[a._v("#")]),a._v(" IDEA 编辑器中指定")]),a._v(" "),t("p",[a._v("在运行按钮（绿色三角形按钮）旁边选择 Edit Configurations...，在弹出的对话框中 Active profiles 输入 dev 或其他即可。")]),a._v(" "),t("p",[a._v("这种方法只有在本地调试的时候才生效。")])])}),[],!1,null,null,null);s.default=n.exports}}]);